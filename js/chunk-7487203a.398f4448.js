(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7487203a"],{"158c":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"playlist-detail"},[a("div",{staticClass:"header"},[a("div",{staticClass:"img-box"},[a("img",{attrs:{src:t.listinfo.img,alt:"图片"}})]),a("div",{staticClass:"songinfo"},[a("p",{staticClass:"title"},[t._v(t._s(t.listinfo.name))]),a("div",{staticClass:"author"},[a("img",{attrs:{src:t.listinfo.authorimg,alt:"图片"}}),a("span",[t._v(t._s(t.listinfo.author))]),a("span",{staticClass:"deta"},[t._v(t._s(t._f("timeformat")(t.listinfo.createTime))+" 创建")])]),a("div",{staticClass:"palyer-btn",on:{click:t.playall}},[a("i",{staticClass:"iconfont"},[t._v("")]),a("span",[t._v("播放全部")])]),a("p",{staticClass:"label"},[t._v("标签："),t._l(t.listinfo.tags,(function(e,s){return a("span",{key:e},[t._v(t._s(e)+t._s(t.listinfo.tags[t.listinfo.tags.length-1]==t.listinfo.tags[s]?"":" / "))])}))],2),a("p",{staticClass:"Introduction"},[t._v("简介："+t._s(t.listinfo.description))])])]),a("div",{staticClass:"content"},[a("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"歌曲列表",name:"first"}},[a("music",{attrs:{msg:t.listinfo.songs}})],1),a("el-tab-pane",{attrs:{label:"评论("+t.listinfo.commentCount+")",name:"second"}},[a("p",{staticClass:"title-comments"},[t._v("最新评论")]),a("comment",{attrs:{msg:t.comments}}),a("Pagination",{attrs:{msg:[t.total,t.page]},on:{pagedata:t.changepage}})],1)],1)],1)])},n=[],i=a("1da1"),c=(a("96cf"),a("a4d3"),a("e01a"),a("b0c0"),a("d81d"),a("d3b7"),a("ddb0"),a("a93c")),r=a("9573"),o=a("c8e9"),l=a("ed08"),m={components:{music:c["a"],comment:r["a"],Pagination:o["a"]},data:function(){return{activeName:"first",listinfo:"",offset:0,comments:null,total:0,page:0}},filters:{timeformat:function(t){var e=Object(l["d"])(t);return e}},created:function(){this.getlistinfo()},beforeRouteUpdate:function(t,e,a){e.params.id!=t.params.id&&(a(),this.getlistinfo())},mounted:function(){},methods:{getlistinfo:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n,i,c,r,o,m,u,f,d,p,v,g,b,h,_;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["k"])({params:{id:t.$route.params.id}});case 2:a=e.sent,t.getcomments(),s=a.playlist,n=s.coverImgUrl,i=s.description,c=s.commentCount,r=s.createTime,o=s.name,m=s.trackIds,u=s.tags,f=s.creator,d=f.nickname,p=f.avatarUrl,v="",g=0,e.t0=regeneratorRuntime.keys(m);case 8:if((e.t1=e.t0()).done){e.next=17;break}if(b=e.t1.value,g++,!(g>499)){e.next=14;break}return v+=m[b].id,e.abrupt("break",17);case 14:b<m.length-1?v+=m[b].id+",":v+=m[b].id,e.next=8;break;case 17:return e.next=19,Object(l["h"])(v);case 19:h=e.sent,_=h.songs,h=_.map((function(t){var e=t.al,a=e.name,s=e.picUrl,n=t.id,i=t.ar,c=t.mv,r=t.name,o=t.dt;return Object(l["b"])({id:n,albumName:a,img:s,artists:i,name:r,mvId:c,duration:o})})),t.$store.commit("updatacache",h),t.listinfo=Object(l["b"])({img:n,description:i,commentCount:c,createTime:r,name:o,songs:h,tags:u,author:d,authorimg:p});case 24:case"end":return e.stop()}}),e)})))()},getcomments:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={id:t.$route.params.id,pageSize:20,offset:t.offset},e.next=3,Object(l["f"])({params:a});case 3:s=e.sent,t.total=10*Math.ceil(s.total/20),t.comments=s.comments;case 6:case"end":return e.stop()}}),e)})))()},changepage:function(t){this.offset=20*(t-1),this.page=t,this.getcomments()},playall:function(){this.$store.commit("updatanowlist",this.$store.state.cachelist),this.$store.commit("changemark",0),Object(l["a"])(0)}}},u=m,f=(a("6957"),a("2877")),d=Object(f["a"])(u,s,n,!1,null,"7f261f9c",null);e["default"]=d.exports},"310a":function(t,e,a){},6957:function(t,e,a){"use strict";a("8948")},8948:function(t,e,a){},9573:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comment-box"},t._l(t.msg,(function(e){return a("div",{key:e.commentId,staticClass:"comment"},[a("div",{staticClass:"avatar"},[a("img",{attrs:{src:e.user.avatarUrl+"?param=80y80",alt:"img"}})]),a("div",{staticClass:"content-border"},[a("p",{staticClass:"comment-text"},[a("span",{staticClass:"username"},[t._v(t._s(e.user.nickname)+":")]),a("span",{staticClass:"text"},[t._v(t._s(e.content))])]),0!=e.beReplied.length?a("div",{staticClass:"replied"},[a("p",{staticClass:"comment-text"},[a("span",{staticClass:"username"},[t._v(t._s(e.beReplied[0].user.nickname)+":")]),a("span",{staticClass:"text"},[t._v(t._s(e.beReplied[0].content))])])]):t._e(),a("div",{staticClass:"bottom"},[a("span",{staticClass:"date"},[t._v(t._s(t._f("timechange")(e.time)))]),a("div",{staticClass:"actions"},[a("i",{staticClass:"iconfont"},[t._v("")]),t._v(t._s(e.likedCount)+" ")])])])])})),0)},n=[],i=a("ed08"),c={props:["msg"],data:function(){return{}},filters:{timechange:function(t){return Object(i["d"])(t)}},created:function(){},mounted:function(){}},r=c,o=(a("b177"),a("2877")),l=Object(o["a"])(r,s,n,!1,null,"449dc6c1",null);e["a"]=l.exports},b177:function(t,e,a){"use strict";a("310a")},e01a:function(t,e,a){"use strict";var s=a("23e7"),n=a("83ab"),i=a("da84"),c=a("5135"),r=a("861d"),o=a("9bf2").f,l=a("e893"),m=i.Symbol;if(n&&"function"==typeof m&&(!("description"in m.prototype)||void 0!==m().description)){var u={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new m(t):void 0===t?m():m(t);return""===t&&(u[e]=!0),e};l(f,m);var d=f.prototype=m.prototype;d.constructor=f;var p=d.toString,v="Symbol(test)"==String(m("test")),g=/^Symbol\((.*)\)[^)]+$/;o(d,"description",{configurable:!0,get:function(){var t=r(this)?this.valueOf():this,e=p.call(t);if(c(u,t))return"";var a=v?e.slice(7,-1):e.replace(g,"$1");return""===a?void 0:a}}),s({global:!0,forced:!0},{Symbol:f})}}}]);
//# sourceMappingURL=chunk-7487203a.398f4448.js.map